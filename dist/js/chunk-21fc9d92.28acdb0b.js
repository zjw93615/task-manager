(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21fc9d92"],{5553:function(s,a,e){"use strict";e.r(a);var t=function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"h-screen flex w-full bg-img"},[t("div",{staticClass:"vx-col sm:w-3/5 md:w-3/5 lg:w-3/4 xl:w-3/5 mx-auto self-center"},[t("vx-card",[t("div",{staticClass:"full-page-bg-color",attrs:{slot:"no-body"},slot:"no-body"},[t("div",{staticClass:"vx-row"},[t("div",{staticClass:"vx-col hidden sm:hidden md:hidden lg:block lg:w-1/2 mx-auto self-center"},[t("img",{staticClass:"mx-auto",attrs:{src:e("e0fb"),alt:"login"}})]),t("div",{staticClass:"vx-col sm:w-full md:w-full lg:w-1/2 mx-auto self-center  d-theme-dark-bg"},[t("div",{staticClass:"p-8"},[t("div",{staticClass:"vx-card__title mb-8"},[t("h4",{staticClass:"mb-4"},[s._v("重设密码")]),t("p",[s._v("请输入您的新密码")])]),t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"w-full mb-6",attrs:{"data-vv-validate-on":"blur",name:"email",type:"email","label-placeholder":"邮箱",placeholder:"邮箱"},model:{value:s.email,callback:function(a){s.email=a},expression:"email"}}),t("span",{staticClass:"text-danger text-sm"},[s._v(s._s(s.errors.first("email")))]),t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:7",expression:"'required|min:7'"}],ref:"password",staticClass:"w-full mb-6",attrs:{type:"password","data-vv-validate-on":"blur",name:"password","label-placeholder":"密码",placeholder:"密码"},model:{value:s.password,callback:function(a){s.password=a},expression:"password"}}),t("span",{staticClass:"text-danger text-sm"},[s._v(s._s(s.errors.first("password")))]),t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"min:6|confirmed:password",expression:"'min:6|confirmed:password'"}],staticClass:"w-full mb-8",attrs:{type:"password","data-vv-validate-on":"blur","data-vv-as":"password",name:"confirm_password","label-placeholder":"确认密码",placeholder:"确认密码"},model:{value:s.confirm_password,callback:function(a){s.confirm_password=a},expression:"confirm_password"}}),t("span",{staticClass:"text-danger text-sm"},[s._v(s._s(s.errors.first("confirm_password")))]),t("div",{staticClass:"flex flex-wrap justify-between flex-col-reverse sm:flex-row"},[t("vs-button",{staticClass:"w-full sm:w-auto mb-8 sm:mb-auto mt-3 sm:mt-auto",attrs:{type:"border",to:"/pages/login"}},[s._v("返回登陆")]),t("vs-button",{staticClass:"w-full sm:w-auto",on:{click:s.resetPassword}},[s._v("重设密码")])],1)],1)])])])])],1)])},r=[],i=e("ad95"),l={data:function(){return{email:"",password:"",confirm_password:""}},computed:{validateForm:function(){return!this.errors.any()&&""!==this.email&&""!==this.password&&""!==this.confirm_password}},methods:{resetPassword:function(){var s=this;console.log(this.$route.query.token),this.validateForm&&void 0!==this.$route.query.token?i["a"].resetPassword(this.email,this.$route.query.token,this.password).then((function(a){void 0===a.data._id?s.$vs.notify({title:"您的数据不完整",text:"请保证所有数据已经正确填写，并且网址没有错误",iconPack:"feather",icon:"icon-alert-circle",color:"warning"}):s.$router.push("/pages/login").catch((function(){}))})).catch((function(s){reject(s)})):this.$vs.notify({title:"您的数据不完整",text:"请保证所有数据已经正确填写，并且网址没有错误",iconPack:"feather",icon:"icon-alert-circle",color:"warning"})}}},o=l,n=e("2877"),c=Object(n["a"])(o,t,r,!1,null,null,null);a["default"]=c.exports},e0fb:function(s,a,e){s.exports=e.p+"img/reset-password.965156da.png"}}]);
//# sourceMappingURL=chunk-21fc9d92.28acdb0b.js.map